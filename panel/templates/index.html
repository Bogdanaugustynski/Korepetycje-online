{% load static %}
<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>PolubiszTo.pl ‚Äî Korepetycje online</title>
  <style>
    :root{
      --primary:#0b74ff; --ink:#0f172a; --bg:#f7f9ff; --card:#ffffff; --muted:#6b7280;
      --shadow:0 10px 30px rgba(11,116,255,.12);
      --radius:16px; --gap:16px; --edge:16px; --max:1140px;
      --glow: 0 20px 60px rgba(11,116,255,.18);
    }
    *{box-sizing:border-box}
    html{scroll-behavior:smooth}
    body{margin:0;min-height:100%;font-family:system-ui,Segoe UI,Roboto,Arial,sans-serif;color:var(--ink);background:var(--bg)}
    img{max-width:100%;height:auto;display:block}
    a{color:var(--primary);text-decoration:none}
    .wrap{max-width:var(--max);margin:0 auto;padding:0 var(--edge)}

    /* header */
    header{position:sticky;top:0;z-index:50;border-bottom:1px solid #e5e7eb;
      backdrop-filter:saturate(140%) blur(8px); background:rgba(255,255,255,.78)}
    @supports not (backdrop-filter: blur(8px)){ header{background:#ffffff} }
    header.scrolled{box-shadow:0 6px 24px rgba(15, 23, 42, .06)}
    .bar{display:flex;align-items:center;gap:10px;padding:12px 0}
    .hamb{border:1px solid #d1d5db;background:#fff;border-radius:12px;padding:10px;display:flex;align-items:center;gap:8px;cursor:pointer}
    .hamb i{width:18px;height:2px;background:#0f172a;box-shadow:0 6px 0 #0f172a, 0 -6px 0 #0f172a;display:inline-block}
    .nav{display:none;flex-wrap:wrap;gap:8px;margin-left:auto}
    .nav.open{display:flex}
    @media (min-width: 860px){ .hamb{display:none} .nav{display:flex !important} }

    .btn{border:1px solid #d1d5db;background:#fff;border-radius:12px;padding:10px 14px;font-weight:600;line-height:1;transition:transform .12s ease, box-shadow .12s ease}
    .btn:hover{transform:translateY(-1px);box-shadow:0 6px 18px rgba(0,0,0,.06)}
    .btn.primary{background:var(--primary);color:#fff;border-color:var(--primary);box-shadow:var(--shadow)}
    .btn.primary.pulse{animation:pulse 2.4s infinite}
    @keyframes pulse { 0%{box-shadow:0 0 0 0 rgba(11,116,255,.35)} 70%{box-shadow:0 0 0 16px rgba(11,116,255,0)} 100%{box-shadow:0 0 0 0 rgba(11,116,255,0)} }

    /* HERO */
    .hero{
      background:
        radial-gradient(900px 520px at 75% -60%, #dbe7ff 0%, transparent 60%),
        linear-gradient(180deg,#f7f9ff 0%, #f1f6ff 100%);
    }
    .hero-in{display:grid;grid-template-columns:1fr;gap:22px;align-items:center;padding:32px 0}
    .h1{font-size:clamp(24px,4.8vw,42px);line-height:1.08;margin:0}

    /* TABLICA + MENTORKA */
    .hero-visual{position:relative}
    .board-preview{
      background:#eaf1ff;border:1px solid #e5e7eb;border-radius:20px;box-shadow:var(--shadow), var(--glow);
      position:relative;overflow:hidden;aspect-ratio:4/3;max-width:100%;max-height:min(60vh,520px);
    }
    .board-preview img{width:100%;height:100%;object-fit:contain;background:#fff;border-radius:20px}
    .spark{position:absolute;inset:auto -20% -40% auto;width:60%;height:60%;
      background:radial-gradient(closest-side, rgba(123,167,255,.25), transparent 70%); transform:rotate(-12deg);filter:blur(12px);pointer-events:none}

    /* Mentorka: realne zdjƒôcie, odbite w stronƒô ≈õrodka + delikatny ‚Äûfloat‚Äù */
    .mentor{
      position:absolute;
      right:-6%;
      bottom:-6%;
      width:min(36%, 280px);
      pointer-events:none;
      filter:drop-shadow(0 18px 24px rgba(15,23,42,.18));
      transform-origin:center;
      animation:floatMentor 6s ease-in-out infinite;
      border-radius:16px;                    /* ≈Çadniejsze krawƒôdzie dla zdjƒôcia */
    }
    @keyframes floatMentor{
      0%,100%{ transform:translateY(0) }     /* usuniƒôte scaleX(-1) */
      50%{     transform:translateY(-6px) }  /* lekki ‚Äûfloat‚Äù bez odbicia */

    }
    @media (max-width: 900px){ .mentor{display:none} } /* chowamy na ma≈Çych ekranach */

    /* Kroki */
    .steps{display:grid;grid-template-columns:1fr;gap:10px;margin-top:12px}
    .step{display:flex;gap:12px;align-items:flex-start;background:var(--card);border:1px solid #e5e7eb;border-radius:14px;padding:12px}
    .i{width:36px;height:36px;border-radius:10px;background:#eef3ff;border:1px solid #e5e7eb;display:flex;align-items:center;justify-content:center;font-weight:800;color:#3b5fcc;flex:0 0 36px}
    .step h4{margin:2px 0 4px;font-size:16px}
    .step p{margin:0;color:#374151;font-size:14px}

    .section{padding:28px 0}
    .section h2{margin:0 0 12px;font-size:clamp(18px,3.6vw,22px)}
    .grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:var(--gap)}
    .card{background:var(--card);border:1px solid #e5e7eb;border-radius:var(--radius);box-shadow:0 2px 10px rgba(0,0,0,.04);padding:14px;transition:transform .18s ease, box-shadow .18s ease}
    .card:hover{transform:translateY(-2px); box-shadow:0 10px 26px rgba(0,0,0,.08)}

    .teacher{display:flex;gap:12px;align-items:flex-start}
    .avatar{width:72px;height:72px;border-radius:14px;background:#eef3ff;object-fit:cover;border:1px solid #e5e7eb;flex:0 0 72px}
    .name{font-weight:800;font-size:16px;margin:0 0 6px}
    .desc{color:#374151;font-size:14px;margin:0 0 10px}
    .tags{display:flex;flex-wrap:wrap;gap:6px}
    .tag{font-size:12px;color:#334155;background:#f1f5f9;border:1px solid #e2e8f0;border-radius:999px;padding:4px 8px}
    .clamp-2{display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}

    @media (min-width: 900px){ .hero-in{grid-template-columns:1.1fr .9fr; padding:44px 0} .steps{grid-template-columns:1fr 1fr} }
    @media (max-width: 480px){ .board-preview{ max-height: 42vh } }

    .foot{border-top:1px solid #e5e7eb;color:#6b7280;padding:18px 0;margin-top:22px;text-align:center}

    /* preferencje dostƒôpno≈õci */
    @media (prefers-reduced-motion: reduce){
      .btn.primary.pulse, .mentor{animation:none}
    }
  </style>
</head>
<body>
  <header>
    <div class="wrap bar">
      {% include "partials/brand.html" %}
      <button class="hamb" id="hamb" aria-label="Otw√≥rz menu" aria-controls="site-nav" aria-expanded="false"><i></i></button>
      <nav class="nav" id="site-nav">
        <a class="btn" href="/o-nas">O nas</a>
        <a class="btn" href="/kontakt">Kontakt</a>
        <a class="btn" href="{% url 'login' %}">Zaloguj</a>
      </nav>
    </div>
  </header>

  <main>
    <section class="hero">
      <div class="wrap hero-in">
        <div>
          <h1 class="h1">Korepetycje online ‚Äî Tw√≥j sukces w nauce</h1>

          <div class="steps" aria-label="Jak to dzia≈Ça">
            <div class="step"><div class="i">1</div><div><h4>Do≈ÇƒÖcz do nas</h4><p>Zarejestruj siƒô i utw√≥rz swoje konto.</p></div></div>
            <div class="step"><div class="i">2</div><div><h4>Wybierz nauczyciela i przedmiot</h4><p>PrzeglƒÖdaj profil i bio nauczyciela (aktualnie matematyka, wkr√≥tce tak≈ºe inne).</p></div></div>
            <div class="step"><div class="i">3</div><div><h4>Zarezerwuj termin</h4><p>Podaj temat lekcji i dodaj potrzebne pliki lub zdjƒôcia.</p></div></div>
            <div class="step"><div class="i">4</div><div><h4>Op≈Çaƒá lekcjƒô</h4><p>Zap≈Çaƒá BLIKIEM lub przelewem tradycyjnym.</p></div></div>
            <div class="step"><div class="i">5</div><div><h4>Ucz siƒô online</h4><p>Do≈ÇƒÖcz do pokoju z tablicƒÖ i rozmowƒÖ g≈ÇosowƒÖ ‚Äî bez instalacji.</p></div></div>
            <div class="step"><div class="i">6</div><div><h4>Korzystaj z notatek, kiedy chcesz</h4><p>Materia≈Çy z lekcji dostƒôpne sƒÖ na Twoim koncie.</p></div></div>
          </div>

          <div style="margin-top:14px">
            <a class="btn primary pulse" href="{% url 'register' %}">Zacznij teraz</a>
          </div>
        </div>

        <div class="hero-visual">
          <!-- TABLICA -->
          <div class="board-preview">
            <img src="{% static 'panel/podglad_tablicy.png' %}?v={% now 'U' %}" alt="PodglƒÖd tablicy wirtualnego pokoju">
            <div class="spark" aria-hidden="true"></div>
          </div>

          <!-- MENTORKA: realne zdjƒôcie (odwr√≥cone w stronƒô ≈õrodka) -->
          <img class="mentor"
               src="{% static 'panel/mentor_kobieta.png' %}?v={% now 'U' %}"
               alt="M≈Çoda nauczycielka ‚Äî Twoja mentorka online">
        </div>
      </div>
    </section>

    <section class="wrap section" id="dlaczego-my">
      <h2>Dlaczego warto nas wybraƒá?</h2>
      <div class="grid">
        <div class="card"><h4>‚úî Do≈õwiadczeni nauczyciele</h4><p>Zweryfikowane profile z jasno opisanym do≈õwiadczeniem.</p></div>
        <div class="card"><h4>‚úî Dogodne godziny</h4><p>Elastyczny grafik dopasowany do Twojego planu dnia.</p></div>
        <div class="card"><h4>‚úî Materia≈Çy do lekcji</h4><p>Dodawanie plik√≥w oraz notatki po zajƒôciach.</p></div>
      </div>
    </section>

    <section class="wrap section" id="nauczyciele">
      <h2>Polecani nauczyciele</h2>
      <div class="grid" id="teachersGrid">
        {% for n in nauczyciele %}
          <article class="card teacher">
            <img class="avatar" src="{{ n.photo_url|default:n.default_avatar }}" alt="{{ n.full_name }}" onerror="this.src='https://placehold.co/72x72'"/>
            <div style="flex:1">
              <h3 class="name">{{ n.full_name }}</h3>
              <p class="desc clamp-2">{{ n.bio|default:"Do≈õwiadczony nauczyciel. Ustal temat i dzia≈Çajmy!" }}</p>
              {% if n.tag_list %}
                <div class="tags">
                  {% for t in n.tag_list %}<span class="tag">{{ t }}</span>{% endfor %}
                </div>
              {% endif %}
            </div>
          </article>
        {% empty %}
          <p>Wkr√≥tce pojawiƒÖ siƒô nauczyciele.</p>
        {% endfor %}
      </div>
    </section>

    <section class="wrap section" id="cta" style="text-align:center">
      <h2>üöÄ Zacznij ju≈º dzi≈õ!</h2>
      <p>Do≈ÇƒÖcz do naszej spo≈Çeczno≈õci i rozwijaj siƒô z najlepszymi nauczycielami matematyki.</p>
      <a class="btn primary pulse" href="{% url 'register' %}">Zarejestruj siƒô teraz</a>
    </section>
  </main>

  <footer>
    <div class="wrap foot">¬© <span id="y"></span> PolubiszTo.pl ‚Äî korepetycje online</div>
  </footer>

  <script>
    document.getElementById('y').textContent = new Date().getFullYear();
    (function(){var btn=document.getElementById('hamb'), nav=document.getElementById('site-nav');
      if(btn&&nav){ btn.addEventListener('click', function(){ var open=nav.classList.toggle('open'); btn.setAttribute('aria-expanded', open ? 'true' : 'false'); });}})();
    (function(){var hdr=document.querySelector('header'); if(!hdr) return;
      function onScroll(){ var y = window.scrollY || document.documentElement.scrollTop; if (y>4) hdr.classList.add('scrolled'); else hdr.classList.remove('scrolled');}
      onScroll(); window.addEventListener('scroll', onScroll, {passive:true});})();
  </script>
</body>
</html>
