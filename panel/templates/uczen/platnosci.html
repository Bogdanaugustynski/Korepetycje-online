{% load static %}
<!DOCTYPE html><html lang="pl"><head>
<meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1">
<title>PÅ‚atnoÅ›Ä‡ za zajÄ™cia â€” PolubiszTo.pl</title>
<style>
:root{--brand:#0b74ff;--ink:#0b1320;--muted:#5b6777;--bg:#f7f9fe;--line:#e6edff;--ok:#16a34a;--radius:16px;--maxw:1100px}
*{box-sizing:border-box} body{margin:0;background:var(--bg);color:var(--ink);font:16px/1.45 system-ui,Segoe UI,Roboto,Arial}
.wrap{max-width:var(--maxw);margin:32px auto;padding:0 16px}
.brand{display:flex;align-items:center;gap:12px;margin-bottom:20px}
.brand-logo{width:36px;height:36px;border-radius:10px;background:var(--brand);display:grid;place-items:center;color:#fff;font-weight:700}
.card{background:#fff;border:1px solid var(--line);border-radius:var(--radius);box-shadow:0 2px 10px rgba(0,0,0,.04)}
.card-h{padding:16px 18px;border-bottom:1px solid var(--line);font-weight:700}
.card-b{padding:18px}
.grid{display:grid;gap:16px} @media (min-width:900px){.grid-2{grid-template-columns:1.2fr .8fr}}
.sumrow{display:flex;justify-content:space-between;gap:12px;padding:10px 0;border-bottom:1px dashed var(--line)}
.sumrow:last-child{border-bottom:0}
.price{font-size:22px;font-weight:800}
.muted{color:var(--muted)} .notice{padding:10px 12px;border:1px solid var(--line);border-radius:12px;background:#fcfdff}
.btn{appearance:none;border:0;border-radius:12px;padding:10px 14px;font-weight:700;cursor:pointer}
.btn-ghost{background:#fff;border:1px solid var(--line)}
.copy{cursor:pointer}
</style>
</head><body>
<div class="wrap">
  <div class="brand">
    <div class="brand-logo">ðŸŽ“</div>
    <div><div style="font-weight:700">PolubiszTo.pl</div><div class="muted">korepetycje online</div></div>
  </div>

  <div class="card">
    <div class="card-h">Podsumowanie rezerwacji</div>
    <div class="card-b">
      <div class="sumrow"><span>UczeÅ„</span><strong>{{ request.user.get_full_name|default:request.user.username }}</strong></div>
      <div class="sumrow"><span>Nauczyciel</span><strong>{{ rezerwacja.nauczyciel.get_full_name|default:rezerwacja.nauczyciel.username }}</strong></div>
      <div class="sumrow"><span>Termin</span><strong>{{ rezerwacja.termin|date:"Y-m-d H:i" }}</strong></div>
      <div class="sumrow"><span>Temat</span><strong>{{ rezerwacja.temat|default:"â€”" }}</strong></div>
      <div class="sumrow"><span>Do zapÅ‚aty</span><strong class="price">{{ ustawienia.cena_za_godzine }} zÅ‚</strong></div>
      <div class="notice">Lekcja odbÄ™dzie siÄ™ po zaksiÄ™gowaniu wpÅ‚aty i rÄ™cznej akceptacji przez ksiÄ™gowoÅ›Ä‡.</div>
    </div>
  </div>

  <div class="grid grid-2" style="margin-top:16px">
    <div class="card">
      <div class="card-h">PÅ‚atnoÅ›Ä‡ BLIK â€” instrukcja</div>
      <div class="card-b">
        <div class="sumrow"><span>Kwota</span><strong>{{ ustawienia.cena_za_godzine }} zÅ‚</strong></div>
        <div class="sumrow"><span>Numer telefonu (BLIK)</span><strong id="telblik">{{ ustawienia.numer_telefonu }}</strong></div>
        <div class="sumrow"><span>TytuÅ‚</span><strong id="tytul_blik">ZajÄ™cia {{ rezerwacja.id }} â€” {{ request.user.username }}</strong></div>
        <div class="notice">Dokonaj pÅ‚atnoÅ›ci BLIK w swojej aplikacji bankowej na powyÅ¼szy <b>numer telefonu</b> z podanym <b>tytuÅ‚em</b>.</div>
        <div style="margin-top:12px">
          <button class="btn btn-ghost copy" data-copy="#telblik" type="button">Kopiuj numer BLIK</button>
          <button class="btn btn-ghost copy" data-copy="#tytul_blik" type="button">Kopiuj tytuÅ‚</button>
        </div>
      </div>
    </div>

    <div class="card">
      <div class="card-h">Przelew na konto â€” instrukcja</div>
      <div class="card-b">
        <div class="sumrow"><span>Kwota</span><strong>{{ ustawienia.cena_za_godzine }} zÅ‚</strong></div>
        <div class="sumrow"><span>Numer konta</span><strong id="nrkonta">{{ ustawienia.numer_konta }}</strong></div>
        <div class="sumrow"><span>TytuÅ‚</span><strong id="tytul_przelew">ZajÄ™cia {{ rezerwacja.id }} â€” {{ request.user.username }}</strong></div>
        <div class="notice">Wykonaj zwykÅ‚y przelew bankowy. Po zaksiÄ™gowaniu i rÄ™cznej akceptacji rezerwacja otrzyma status <b>opÅ‚acona</b>.</div>
        <div style="margin-top:12px">
          <button class="btn btn-ghost copy" data-copy="#nrkonta" type="button">Kopiuj numer konta</button>
          <button class="btn btn-ghost copy" data-copy="#tytul_przelew" type="button">Kopiuj tytuÅ‚</button>
        </div>
      </div>
    </div>
  </div>

  <div style="margin-top:16px">
    <a class="btn btn-ghost" href="{% url 'platnosci_lista' %}">WrÃ³Ä‡ do listy pÅ‚atnoÅ›ci</a>
  </div>
</div>

<script>
  document.querySelectorAll('.copy').forEach(btn=>{
    btn.addEventListener('click', ()=>{
      const sel = btn.getAttribute('data-copy');
      const el = document.querySelector(sel); if(!el) return;
      const text = el.textContent.trim();
      navigator.clipboard.writeText(text).then(()=>{
        const old = btn.textContent; btn.textContent='Skopiowano âœ“';
        setTimeout(()=>btn.textContent=old,1200);
      });
    });
  });
</script>
</body></html>
